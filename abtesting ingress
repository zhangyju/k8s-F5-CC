apiVersion: extensions/v1beta1
kind: Ingress
metadata:
  name: abtesting-v1-v2-ingress
  namespace: f5-vxlan-lingque
  annotations:
        virtual-server.f5.com/ip: "10.194.184.23"
        virtual-server.f5.com/http-port: "800"
        virtual-server.f5.com/partition: "LingQue"
        virtual-server.f5.com/health: |
          [
                {
                  "path":         "v2.abtesting.com",
                  "send":         "HTTP GET /",
                  "interval":       5,
                  "timeout"       15
                }, {
                  "path":         "v1.abtesting.com",
                  "send":         "HTTP GET /",
                  "interval":       5,
                  "timeout"       15
                }
          ]
        kubernetes.io/ingress.class: "f5"
spec:
  rules:
  - host: v2.abtesting.com
    http:
       paths:
       - path: /
         backend:
            serviceName: abtesting-v1
            servicePort: 80
  - host: v1.abtesting.com
    http:
       paths:
       - path: /
         backend:
            serviceName: abtesting-v2
            servicePort: 80
